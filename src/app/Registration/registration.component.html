<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body {font-family: "Lato", sans-serif;}

    .sidebar {
      height: 100%;
      width: 160px;
      position: fixed;
      z-index: 1;
      top: 0;
      left: 0;
      background-color: #111;
      overflow-x: hidden;
      padding-top: 16px;
    }

    .sidebar a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 20px;
      color: #818181;
      display: block;
    }

    .sidebar a:hover {
      color: #f1f1f1;
    }

    .main {
      margin-left: 150px; /* Same as the width of the sidenav */
      padding: 0px 10px;
      width: 100%;
    }

    @media screen and (max-height: 450px) {
      .sidebar {padding-top: 15px;}
      .sidebar a {font-size: 18px;}
    }


  </style>
</head>
<body>

<div class="sidebar">
  <a href="/tsm-approve"><i class="fa fa-fw fa-home"></i> Home</a>
  <a href="/tsm-approve"><i class="fa fa-fw fa-user"></i>Time Sheets</a>
  <a href="/reg"><i class="fa fa-fw fa-wrench"></i>Account Create</a>

</div>


<div class="main">
  <div class="topnav">
    <a class="active" href="/tsm-approve">Admin Panel</a>

    <a href="/log" class="split">Logout</a>
  </div>
</div>

</body>
</html>

<div class="main">

  <div class="container-fluid">

    <div class="card-body d-flex flex-column align-items-center" >
      <h3 class="text-center"> Create Account </h3>
      <hr />
    <div class="card"  style="width: 60%; background-color: bisque" *ngIf="frmGroup">
      <form [formGroup]="frmGroup" class="p-8">
        <!-- row 1 -->
        <div class="row" style="text-align: center" >

          <div class="col"  >
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'User Name' | translate}}<strong
              class="required">*</strong>
            </mat-label>
            <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                            fxFlex.sm="60%"
                            fxFlex.xs="100%">
              <input formControlName="userName" matInput>
              <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
            </mat-form-field>

          </div>

          <div class="col">
              <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                         fxFlex.xs="100%">{{'Email' | translate}}<strong
                class="required">*</strong>
              </mat-label>
              <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                              fxFlex.sm="60%"
                              fxFlex.xs="100%">
                <input matInput formControlName="email">
                <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
              </mat-form-field>
          </div>


        </div>
        <!-- // row 1 -->

        <!-- row 1 -->
        <div class="row" style="text-align: center" >

          <div class="col" style="margin-left: 10% ;text-align: left">
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'User Role Type' | translate}}<strong class="required">*</strong>
            </mat-label>
            <mat-select-search
                               [formGroup]="frmGroup"
                               [controlName]="'userRole'"
                               [data]="userRoleList" >
            </mat-select-search>
          </div>

          <div class="col">
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'Employee Id' | translate}}
            </mat-label>
            <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                            fxFlex.sm="60%"
                            fxFlex.xs="100%">
              <input matInput formControlName="empId">
              <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
            </mat-form-field>
          </div>

        </div>

        <!-- row 3 -->
        <div class="row" style="text-align: center" >

          <div class="col">
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'dob' | translate}}
            </mat-label>
            <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                            fxFlex.sm="60%"
                            fxFlex.xs="100%">
              <input matInput formControlName="dob">
              <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
            </mat-form-field>
          </div>

          <div class="col"  >
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'Pay Rate' | translate}}
            </mat-label>
            <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                            fxFlex.sm="60%"
                            fxFlex.xs="100%">
              <input formControlName="payRate" matInput>
              <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
            </mat-form-field>

          </div>

        </div>
        <div class="row" style="text-align: center" >

          <div class="col">
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'salary' | translate}}
            </mat-label>
            <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                            fxFlex.sm="60%"
                            fxFlex.xs="100%">
              <input matInput formControlName="salary">
              <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
            </mat-form-field>
          </div>

          <div class="col"  >
            <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%"
                       fxFlex.xs="100%">{{'Pay Cap' | translate}}
            </mat-label>
            <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%"
                            fxFlex.sm="60%"
                            fxFlex.xs="100%">
              <input formControlName="payCap" matInput>
              <mat-error>{{'emptyNotAllow' | translate}}</mat-error>
            </mat-form-field>

          </div>

        </div>
<br>

        <button style="margin-left: 3% " (click)="resetFromData()" class="px-8 mr-2" mat-flat-button color="accent"
                type="button">
          <span *ngIf="!editValue ">{{'Reset' | translate}}</span>
          <span *ngIf="editValue">{{'Cancel' | translate}}</span>
        </button>

        <button style="margin-left: 3% " *ngIf="!editValue " (click)="onSubmit()" [disabled]="!frmGroup.valid " class="px-8"
                mat-flat-button color="primary" type="button">
          {{'Save' | translate}}

        </button>

        <button *ngIf="editValue " style="margin-left: 3% " (click)="onUpdate()" [disabled]="!frmGroup.valid " class="px-8"
                mat-flat-button color="primary" type="button">
          {{'Update' | translate}}

        </button>

              </form>

<hr>

      <div class = "row">
        <h2> Account List</h2>
        <div>
          <mat-form-field fxFlex="100%" style="width: 300px !important;">
            <input matInput (keyup)="applyFilter($event)" [placeholder]="'Search' " #input/>
            <button mat-button matPrefix mat-icon-button>
              <mat-icon>search</mat-icon>
            </button>
          </mat-form-field>
        </div>
      </div>
      <div class="flex flex-col bg-card shadow rounded overflow-x-auto sm:overflow-y-auto">
        <!-- table div-->
        <div class="overflow-x-auto sm:overflow-y-auto " cdkScrollable>
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 bg-transconfigDate "  matSort (matSortChange)="sortData($event) ">


            <!-- userName -->
            <ng-container matColumnDef="userName">
              <th   *matHeaderCellDef>
                {{'User Name'}}
              </th>
              <td mat-cell *matCellDef="let row">
                {{ row.userName }}
              </td>
            </ng-container>
            <!-- configName -->
            <ng-container matColumnDef="userRole">
              <th   *matHeaderCellDef>
                {{'User Role'}}
              </th>
              <td mat-cell *matCellDef="let row" >
                {{ row.userRole.roleType }}
              </td>
            </ng-container>
            <!-- configName -->
            <ng-container matColumnDef="email" >
              <th   *matHeaderCellDef>
                {{'Email'}}
              </th>
              <td mat-cell *matCellDef="let row" style="white-space:pre-line ; word-break: break-all">
                {{ row.email }}
              </td>
            </ng-container>


            <ng-container matColumnDef="action" style="width: 10%">
              <th class="text-alignment" style="width: 10%" *matHeaderCellDef>
                {{'Action' }}
              </th>

              <td mat-cell *matCellDef="let row" class="text-alignment">
                <div class="buttons">
                  <button (click)="edit(row)" mat-icon-button
                          class="toggle-sidebar-folded"
                          [matTooltip]="'edit' "
                          fxHide.lt-lg>
                    <mat-icon color="black">edit </mat-icon>
                  </button>

                  <button (click)="openDialog(row)" mat-icon-button
                          [disabled]="disableDelete"
                          class="toggle-sidebar-folded"
                          [matTooltip]="'delete'"
                          fxHide.lt-lg>
                    <mat-icon color="warn">delete </mat-icon>
                  </button>
                </div>
              </td>
            </ng-container>
            <!-- Action Column -->
            <!-- Table Action Buttons End-->

            <!--bind with ts-->
            <tr mat-header-row
                *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row
                *matRowDef="let row; columns: displayedColumns"></tr>
            <!-- // bind with ts-->

            <!-- Row shown when there is no matching data. -->

            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
              <td class="mat-cell" colspan="6">
                {{'noDataMatchingTheFilter'}} "{{ input.value }}"
              </td>
            </tr>

          </table>
        </div>
        <!-- // table div-->
        <!-- pagination -->
        <mat-paginator [length]="total" [pageSize]="size"
                       [pageSizeOptions]="[2, 3, 5, 10, 25, 100]"
                       (page)="onChangePage($event)"></mat-paginator>
        <!-- // pagination-->
      </div>
      <!-- // List Grid -->
    </div>

</div>
</div>
</div>




